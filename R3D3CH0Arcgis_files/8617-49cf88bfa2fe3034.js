"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8617],{2519:function(e,t,i){i.d(t,{J_:function(){return r},Yy:function(){return a},ci:function(){return o},pt:function(){return s}});var n=i(817114);let s=async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return await n.H.insertNode(e,t)},a=async e=>await n.H.insertSubtree(e),o=n.H.insertResource,r=async e=>{let{data:t,mode:i,context:s,registry:a}=e,o={...s||{},storyData:t};return n.H.setRegistry(a),await n.H.build({data:t,mode:i,context:o})}},924601:function(e,t,i){i.d(t,{E:function(){return n}});let n="app-authentication-registration"},486693:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(202784),s=i(355125),a=i(850358);let o=async e=>{let{authManager:t,clientId:n,portalHost:s}=e,[{default:a},{default:o}]=await Promise.all([Promise.all([i.e(72325),i.e(21154),i.e(36234),i.e(54380),i.e(86966),i.e(24924),i.e(60627)]).then(i.bind(i,394136)),Promise.all([i.e(72325),i.e(21154),i.e(78394)]).then(i.bind(i,178394))]);if(t&&t.token){let e={expires:t.tokenExpires,token:t.token,userId:t.username,server:t.portal};a.registerToken(e)}a.useSignInPage=!1,a.registerOAuthInfos([new o({appId:n,portalUrl:`https://${s}`,popup:!0,popupCallbackUrl:"/oauth-callback?isPopupLogin=true"})])};var r=i(924601),l=(0,n.memo)(()=>{let{authManager:e}=(0,s.Pc)(),{OAUTH_CLIENT_ID:t,PORTAL_HOST:l}=(0,a.ZR)();return(0,n.useEffect)(()=>{let e=async e=>{if(e.origin===window.location.origin&&e.data.method===r.E&&"string"==typeof e.data.urlHash){let{default:t}=await Promise.all([i.e(72325),i.e(21154),i.e(36234),i.e(54380),i.e(86966),i.e(24924),i.e(60627)]).then(i.bind(i,394136));t.setOAuthResponseHash(e.data.urlHash)}};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e,!1)}},[]),(0,n.useEffect)(()=>{o({authManager:e,clientId:t,portalHost:l})},[]),null})},400749:function(e,t,i){var n=i(552322),s=i(742951),a=i.n(s);i(202784);var o=i(412524),r=i.n(o),l=i(788028),d=i(292963),c=i(537905);t.Z=e=>{let{maxHeight:t=l.default.spacing.md,maxWidth:i=l.default.spacing.custom("12rem")}=e,{storyLogo:s}=(0,d.e)(),o=(0,c.Z)();if(!s)return null;let p=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:s.src,alt:s.alt||o("component.storyLogo.default.altText"),className:a().dynamic([["827b1d27a9b3394e",[l.default.spacing.md,t,i]]])+" "+(r()({"is-svg":"svg"===s.fileType})||"")}),(0,n.jsx)(a(),{id:"827b1d27a9b3394e",dynamic:[l.default.spacing.md,t,i],children:`img.is-svg.__jsx-style-dynamic-selector{min-width:${l.default.spacing.md}}img.__jsx-style-dynamic-selector{max-height:${t};max-width:${i}}`})]});return s.link?(0,n.jsxs)("a",{href:s.link,target:"_blank",rel:"noreferrer noopener",className:"jsx-c86c0e5815b32f63",children:[p,(0,n.jsx)(a(),{id:"c86c0e5815b32f63",children:"a.jsx-c86c0e5815b32f63{line-height:0;display:inline-block}"})]}):p}},725270:function(e,t,i){i.d(t,{UV:function(){return l},HH:function(){return d}});var n=i(552322),s=i(202784),a=i(522532);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)window.history.replaceState({},"disable autoplay",(0,a.w3)(window.location.href,["play","speed"]));else if(e){let t=(0,a.Cn)(window.location.href,{play:"true",speed:e});window.history.replaceState({},"update autoplay speed",t)}},r=(0,s.createContext)({isAutoplayEnabled:!1,isAutoplayPaused:!1,autoplaySpeed:"medium",enableAutoplay:()=>{},disableAutoplay:()=>{},updateAutoplaySpeed:()=>{},updateIsAutoplayPaused:()=>{}}),l=e=>{let{children:t,initialQuery:i}=e,[l,d]=(0,s.useState)(!1),[c,p]=(0,s.useState)("medium"),[m,u]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,a.C6)(i),t=(0,a.g8)(i);d(e),p(t),e&&o(t)},[i]),(0,n.jsx)(r.Provider,{value:{isAutoplayEnabled:l,isAutoplayPaused:m,autoplaySpeed:c,enableAutoplay:()=>{d(!0),o(c)},disableAutoplay:()=>{d(!1),p("medium"),o(void 0,!0)},updateAutoplaySpeed:e=>{p(e),o(e)},updateIsAutoplayPaused:e=>{u(e)}},children:t})},d=e=>class extends s.PureComponent{render(){return(0,n.jsx)(r.Consumer,{children:t=>(0,n.jsx)(e,{...this.props,...t})})}}},470030:function(e,t,i){i.d(t,{Z:function(){return D}});var n=i(552322),s=i(742951),a=i.n(s),o=i(202784),r=i(942312),l=i(16403),d=i(276928),c=i(93387),p=i(337673);let m=e=>{let{conditions:t,on:i}=e;(0,o.useEffect)(()=>{let e=e=>{t.every(t=>t(e))&&i(e)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,i])},u=e=>{let{triggerKey:t,hasPrimaryModifier:i=!1,on:n}=e,s=(0,o.useCallback)(e=>[].concat(t).includes(e.key),[t]),a=(0,o.useCallback)(e=>{if(e.ctrlKey&&e.metaKey)return!1;if(!i)return!(e.ctrlKey||e.metaKey);let{eventKeyName:t}=(0,p.AP)();return e[t]},[i]);m({conditions:(0,o.useMemo)(()=>[s,a],[s,a]),on:n})};var h=i(416633),g=i(326860),x=i(103010),f=i(444315);let{className:y,styles:b}={styles:(0,n.jsx)(a(),{id:"ac95417d9c6ab41d",children:".hot-key-text.jsx-ac95417d9c6ab41d{opacity:.6}"}),className:"jsx-ac95417d9c6ab41d"},j=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f._,{...e,className:y}),b]});var v=i(23027),k=i(839585),w=i(537905),C=i(982465),P=i(412524),Z=i.n(P),I=i(558001),_=i(655967);let N=e=>{let{currentNumber:t,totalNumber:i}=e,s=(0,w.Z)()("viewer.briefing.slideProgress",{slideNumber:t,totalNumberOfSlides:i}),o={styles:(0,n.jsx)(a(),{id:"fea6797f3ea98c7e",dynamic:[I.ZP.typography.subtitleLarge()],children:`.briefing-progress-numbers.__jsx-style-dynamic-selector{${I.ZP.typography.subtitleLarge()}
    }`}),className:a().dynamic([["fea6797f3ea98c7e",[I.ZP.typography.subtitleLarge()]]])};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.b,{srOnlyMessage:s,currentNumber:t,totalNumber:i,progressNumbersClassName:Z()("briefing-progress-numbers",o.className)}),o.styles]})};var $=i(1210),S=i(863982);let T=()=>{let e=(0,w.Z)(),{briefingDisplay:t,updateBriefingDisplay:i}=(0,v.C)(),{isStoryItemOutlineShowing:s}=t,o=e(s?"component.briefings.header.closeToc":"component.briefings.header.openToc"),{className:r,styles:l}={styles:(0,n.jsx)(a(),{id:"5c4f4a6aadda277b",children:'button.icon-button.briefing-toc-toggle.jsx-5c4f4a6aadda277b:not(.disabled):not([aria-haspopup])[aria-expanded="true"]>*{background-color:var(--color-bg-icon-active)}'}),className:"jsx-5c4f4a6aadda277b"};return(0,n.jsxs)(h.u,{children:[(0,n.jsx)(h.aJ,{children:(0,n.jsx)(g.ZP,{type:"single-icon","aria-expanded":s,"aria-controls":S.$O,"aria-label":o,onClick:()=>{i({isStoryItemOutlineShowing:!s})},className:Z()(r,"briefing-toc-toggle"),children:(0,n.jsx)(x.Z,{path:$.O,size:16,shouldFlipRTL:!0})})}),(0,n.jsx)(h._v,{children:o}),l]})},L=e=>{let t=(0,w.Z)(),{toggleHeaderSpace:i}=(0,C.r)(),s=(0,o.useCallback)(e=>{e||i(!0)},[i]),{isDocumentFullscreen:a,toggleDocumentFullscreen:d}=(0,k.xI)({onChange:s,exitFullscreenOnUnmount:!0}),c=a?r.B:l.x,p=t(a?"component.briefings.header.presentationMode.end":"component.briefings.header.presentationMode.start"),m=(0,o.useCallback)(()=>{!e.shouldDisablePresentationModeUI&&(i(!!a),d())},[d,i,a,e.shouldDisablePresentationModeUI]),f={triggerKey:"Enter",hasPrimaryModifier:!0};return u({...f,on:m}),(0,n.jsxs)(h.u,{children:[(0,n.jsx)(h.aJ,{children:(0,n.jsx)(g.ZP,{type:"single-icon","aria-label":p,onClick:m,disabled:e.shouldDisablePresentationModeUI,children:(0,n.jsx)(x.Z,{path:c,size:16})})}),(0,n.jsxs)(h._v,{children:[p,(0,n.jsx)(j,{...f})]})]})};var D=e=>{let{shouldDisablePresentationModeUI:t,shouldHidePresentationModeUI:i=!1}=e,s=(0,w.Z)(),o=(0,v.C)(),{currentIndex:r,totalNumberOfSlides:l}=o.briefingDisplay;return(0,n.jsxs)("div",{className:"jsx-e575169fb66b4906 buttons-wrapper",children:[(0,n.jsx)(T,{}),(0,n.jsx)(g.ZP,{type:"single-icon","aria-label":s("component.briefings.header.navigation.previous"),onClick:()=>o.updateBriefingDisplay({currentIndex:r-1}),disabled:0===r,children:(0,n.jsx)(x.Z,{path:d.b,size:16,shouldFlipRTL:!0})}),(0,n.jsx)(N,{currentNumber:r+1,totalNumber:l}),(0,n.jsx)(g.ZP,{type:"single-icon","aria-label":s("component.briefings.header.navigation.next"),onClick:()=>o.updateBriefingDisplay({currentIndex:r+1}),disabled:r>=l-1,children:(0,n.jsx)(x.Z,{path:c.c,size:16,shouldFlipRTL:!0})}),!i&&(0,n.jsx)(L,{shouldDisablePresentationModeUI:t}),(0,n.jsx)(a(),{id:"e575169fb66b4906",children:".buttons-wrapper.jsx-e575169fb66b4906{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"})]})}},413329:function(e,t,i){var n=i(552322),s=i(742951),a=i.n(s),o=i(783112),r=i(412524),l=i.n(r),d=i(816211),c=i(788028),p=i(558001),m=i(293786),u=i(400749),h=i(23027),g=i(177692),x=i(275409),f=i(844712),y=i(470030);t.Z=e=>{let{formatMessage:t}=(0,o.Z)(),i=(0,h.C)(),s=(0,g.ZW)(),{isViewportMinWidth:r}=(0,d.uw)(),b=r("medium")?"1px":"0px";if(e.printMode)return null;let j="viewer-header",v="briefing-viewer-header",k={styles:(0,n.jsx)(a(),{id:"a179a0144cb6c420",dynamic:[j,v,c.default.spacing.xxs,c.default.responsiveBreakpoints.medium,j,v,c.default.spacing.xs,j,v,c.default.responsiveBreakpoints.medium,j,v,j,v],children:`.${j}.${v}.__jsx-style-dynamic-selector{border:0;padding:0 ${c.default.spacing.xxs}}@media(min-width:${c.default.responsiveBreakpoints.medium}){.${j}.${v}.__jsx-style-dynamic-selector{padding:0 ${c.default.spacing.xs}}}.${j}.${v}.__jsx-style-dynamic-selector .content{grid-template-columns:1fr auto}@media(min-width:${c.default.responsiveBreakpoints.medium}){.${j}.${v}.__jsx-style-dynamic-selector .content{grid-template-columns:1fr auto 1fr}}.${j}.${v}.__jsx-style-dynamic-selector .end-content{justify-self:end}`}),className:a().dynamic([["a179a0144cb6c420",[j,v,c.default.spacing.xxs,c.default.responsiveBreakpoints.medium,j,v,c.default.spacing.xs,j,v,c.default.responsiveBreakpoints.medium,j,v,j,v]]])},w=i.briefingDisplay.currentIndex,C=(0,n.jsxs)("div",{className:a().dynamic([["b0b7338a47a82f5a",[p.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxs,alignItems:"center",justifyContent:"start"})]]])+" start-content",children:[e.isOrgItem?(0,n.jsxs)(n.Fragment,{children:[e.shouldShowLogoInHeader&&(0,n.jsx)(u.Z,{}),(0,n.jsx)("button",{"aria-label":t({id:"component.autoplay.returnToTop"}),onClick:e.onTitleClicked,className:a().dynamic([["b0b7338a47a82f5a",[p.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxs,alignItems:"center",justifyContent:"start"})]]])+" inherit",children:(0,n.jsx)(f.Z,{title:e.title,itemType:m.o.Briefing})})]}):e.appLogo,(0,n.jsx)(a(),{id:"b0b7338a47a82f5a",dynamic:[p.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxs,alignItems:"center",justifyContent:"start"})],children:`.start-content.__jsx-style-dynamic-selector{text-wrap-style:balance;${p.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxs,alignItems:"center",justifyContent:"start"})};}button.inherit.__jsx-style-dynamic-selector{text-align:inherit}`})]}),P=r("medium")&&(0,n.jsx)("div",{className:"center-content",children:(0,n.jsx)(y.Z,{shouldDisablePresentationModeUI:e.shouldDisablePresentationModeUI})});return(0,n.jsxs)(x.Z,{className:l()(v,k.className),getActiveNodeId:()=>{let e=Object.values(s.itemData.nodes).find(e=>"briefing-ui"===e.type),t=e?.children?.filter(e=>!s.itemData.nodes[e]?.config?.isHidden);return t?.[w]},borderThickness:b,...e,children:[C,P,k.styles]})}},79338:function(e,t,i){var n=i(552322),s=i(202784),a=i(97729),o=i.n(a);let r=(0,s.memo)(e=>{let{children:t}=e;return(0,n.jsx)(o(),{children:(0,n.jsx)("title",{children:t},"title")})});r.displayName="BrowserTabTitle",t.Z=r},111109:function(e,t,i){i.d(t,{Z:function(){return M}});var n=i(552322),s=i(742951),a=i.n(s),o=i(202784),r=i(289274),l=i(412524),d=i.n(l),c=i(974938),p=i(315361),m=i(558001),u=i(788028),h=i(103010),g=i(816211),x=i(790007),f=i(332795),y=i(293786),b=i(400749),j=i(980860),v=i(340733),k=i(45324),w=i(321221),C=i(47209),P=i(275409),Z=i(844712),I=i(727962),_=i(382963),N=i(575585),$=i(578166),S=i(416633),T=i(326860),L=i(999354),D=i(537905),z=i(655967);let A=(0,o.memo)(e=>{let{currentTitle:t,currentNumber:i,totalNumber:s}=e,o=(0,D.Z)(),r=(0,j.XL)(),l=(0,I.p)(r),c=o("component.collection.navigationControls.ariaLive",{contentTitle:t,index:i,total:s}),p={styles:(0,n.jsx)(a(),{id:"8a49a1e225c1d5a8",dynamic:[l.defaultForegroundColor,m.ZP.typography.blockReg()],children:`.collection-progress-numbers.__jsx-style-dynamic-selector{color:${l.defaultForegroundColor};${m.ZP.typography.blockReg()}
    }`}),className:a().dynamic([["8a49a1e225c1d5a8",[l.defaultForegroundColor,m.ZP.typography.blockReg()]]])};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.b,{srOnlyMessage:c,currentNumber:i,totalNumber:s,progressNumbersClassName:d()("collection-progress-numbers",p.className)}),p.styles]})});class F extends o.PureComponent{render(){let{titlesArray:e}=this.props.collectionData;if(!e)return null;let{currentIndex:t}=this.props.collectionDisplay,i=e.length,s=e[t]||"",o=e[t-1]||"",r=e[t+1]||"",l=(0,I.p)(this.props.storyDesign.themeVariables),c={styles:(0,n.jsx)(a(),{id:"67b0c4385ec8ac65",dynamic:[u.default.spacing.xxxs,m.ZP.circle(u.default.spacing.xs),m.ZP.center(),l.defaultBackgroundColor,l.defaultForegroundColor,l.separatorColor,l.hoverBackgroundColor,$._F.userIsNotTabbing,l.disabledForegroundColor,l.disabledForegroundColor,l.defaultBackgroundColor],children:`.arrow-button.single-icon.button.__jsx-style-dynamic-selector{padding:${u.default.spacing.xxxs}}.arrow-button.single-icon.button.__jsx-style-dynamic-selector .icon-wrapper{${m.ZP.circle(u.default.spacing.xs)};${m.ZP.center()}
        background-color: ${l.defaultBackgroundColor};color:${l.defaultForegroundColor};border:1px solid ${l.separatorColor};-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;padding:4px}.arrow-button.single-icon.button.__jsx-style-dynamic-selector:not(.disabled):hover .icon-wrapper,.arrow-button.single-icon.button.__jsx-style-dynamic-selector:not(.disabled):active .icon-wrapper{background-color:${l.hoverBackgroundColor}}${$._F.userIsNotTabbing} .arrow-button.__jsx-style-dynamic-selector:focus{outline:none}.arrow-button.single-icon.button.disabled.__jsx-style-dynamic-selector{color:${l.disabledForegroundColor};cursor:not-allowed}.arrow-button.single-icon.disabled.__jsx-style-dynamic-selector .icon-wrapper{color:${l.disabledForegroundColor};background-color:${l.defaultBackgroundColor}}`}),className:a().dynamic([["67b0c4385ec8ac65",[u.default.spacing.xxxs,m.ZP.circle(u.default.spacing.xs),m.ZP.center(),l.defaultBackgroundColor,l.defaultForegroundColor,l.separatorColor,l.hoverBackgroundColor,$._F.userIsNotTabbing,l.disabledForegroundColor,l.disabledForegroundColor,l.defaultBackgroundColor]]])},p=i-1;return(0,n.jsxs)("nav",{"aria-label":this.props.intl.formatMessage({id:"component.collections.navigationControls.navbar.ariaLabel"}),className:a().dynamic([["3313878a91330017",[m.ZP.gapped({direction:"horizontal",gap:u.default.spacing.xxxs,alignItems:"center",justifyContent:"center"})]]])+" arrow-button-container",children:[(0,n.jsxs)(S.u,{disabled:0===t,offset:0,children:[(0,n.jsx)(S.aJ,{children:(0,n.jsx)(T.ZP,{className:d()("arrow-button",c.className),onClick:this.onClickPrevious,disabled:0===t,type:"single-icon","aria-label":this.props.intl.formatMessage({id:"common.previous"}),children:(0,n.jsx)(h.Z,{path:_.A,size:16,shouldFlipRTL:!0})})}),(0,n.jsx)(S._v,{children:t>0?o:""})]}),(0,n.jsx)(A,{currentTitle:s,currentNumber:t+1,totalNumber:i}),(0,n.jsxs)(S.u,{disabled:t>=p,offset:0,children:[(0,n.jsx)(S.aJ,{children:(0,n.jsx)(T.ZP,{className:d()("arrow-button",c.className),onClick:this.onClickNext,disabled:t>=i-1,type:"single-icon","aria-label":this.props.intl.formatMessage({id:"common.next"}),children:(0,n.jsx)(h.Z,{path:N.o,size:16,shouldFlipRTL:!0})})}),(0,n.jsx)(S._v,{children:t<p?r:""})]}),c.styles,(0,n.jsx)(a(),{id:"3313878a91330017",dynamic:[m.ZP.gapped({direction:"horizontal",gap:u.default.spacing.xxxs,alignItems:"center",justifyContent:"center"})],children:`.arrow-button-container.__jsx-style-dynamic-selector{${m.ZP.gapped({direction:"horizontal",gap:u.default.spacing.xxxs,alignItems:"center",justifyContent:"center"})};}`})]})}constructor(...e){super(...e),this.onClickPrevious=()=>{this.onClickArrow(this.props.collectionDisplay.currentIndex-1)},this.onClickNext=()=>{this.onClickArrow(this.props.collectionDisplay.currentIndex+1)},this.onClickArrow=e=>{this.props.collectionDisplay.updateCollectionDisplay({currentIndex:e}),L.Z.trackEvent(L.Z.Category.Collection,L.Z.Action.Collection_Present_Navigate,L.Z.Name.Collection_Present_Navigate_Arrow)}}}var B=(0,k.p)((0,r.ZP)((0,j.Fv)(F)));class O extends o.Component{static #e=this.defaultProps={canShowItemTitle:!0};componentDidMount(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:(0,f.wA)(w.gz)}})}componentWillUnmount(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:0}})}render(){let e=this.props.isViewportMinWidth("medium"),t=this.props.isViewportMaxWidth("medium"),i="compact"===this.props.collectionData.navigationType,{isCoverShowing:s,currentIndex:o}=this.props.collectionDisplay,r=s?void 0:this.props.getItemHref?.(o),l=!s&&e&&!this.props.isPortrait&&this.props.canShowItemTitle,g=s&&!this.props.isOrgItem||!this.props.canShowItemTitle,x=!s&&(i||t),f=o>=0,j=f&&(l||g),{separatorColor:v}=(0,I.O)({themeVariables:this.props.storyDesign.themeVariables,websiteTheme:this.props.websiteDesign.theme}),k={styles:(0,n.jsx)(a(),{id:"bce94b96452b000b",children:".three-column-header.jsx-bce94b96452b000b{grid-template-columns:2fr 1fr 2fr}.three-column-header.jsx-bce94b96452b000b .end-content{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"}),className:"jsx-bce94b96452b000b"};return(0,n.jsxs)(P.Z,{...this.props,contentClassName:d()(k.className,{"three-column-header":x}),itemHref:r,children:[(0,n.jsxs)("div",{className:a().dynamic([["e08c9e2b40a09e5a",[m.ZP.gapped({direction:"horizontal",gap:u.default.spacing.xxs,alignItems:"center",justifyContent:"start"}),u.default.spacing.custom("3.6rem"),v]]])+" start-content",children:[f&&(0,n.jsx)(C.Z,{id:"toggle-button",tooltipId:s?"component.collections.closeOverview":"component.collections.openOverview",onClick:this.toggleView,icon:(0,n.jsx)(h.Z,{path:s?c.o:p.h,size:24})}),j&&(0,n.jsx)("div",{className:a().dynamic([["e08c9e2b40a09e5a",[m.ZP.gapped({direction:"horizontal",gap:u.default.spacing.xxs,alignItems:"center",justifyContent:"start"}),u.default.spacing.custom("3.6rem"),v]]])+" pipe"}),l&&(0,n.jsxs)(n.Fragment,{children:[this.props.shouldShowLogoInHeader&&!g&&(0,n.jsx)(b.Z,{}),(0,n.jsx)(Z.Z,{title:this.props.title,itemType:y.o.Collection})]}),g&&this.props.appLogo]}),x&&(0,n.jsx)(B,{}),k.styles,(0,n.jsx)(a(),{id:"e08c9e2b40a09e5a",dynamic:[m.ZP.gapped({direction:"horizontal",gap:u.default.spacing.xxs,alignItems:"center",justifyContent:"start"}),u.default.spacing.custom("3.6rem"),v],children:`.start-content.__jsx-style-dynamic-selector{${m.ZP.gapped({direction:"horizontal",gap:u.default.spacing.xxs,alignItems:"center",justifyContent:"start"})};}.start-content.__jsx-style-dynamic-selector .toggle-button .icon-wrapper{padding:4px}.pipe.__jsx-style-dynamic-selector{height:${u.default.spacing.custom("3.6rem")};width:1px;background-color:${v}}`})]})}constructor(...e){super(...e),this.toggleView=()=>{this.props.collectionDisplay.updateCollectionDisplay({isCoverShowing:!this.props.collectionDisplay.isCoverShowing})}}}var M=(0,k.p)((0,r.ZP)((0,j.Fv)((0,g.VO)((0,v.Jh)((0,x.EL)(O))))))},655967:function(e,t,i){i.d(t,{b:function(){return u}});var n=i(552322),s=i(742951),a=i.n(s),o=i(202784),r=i(412524),l=i.n(r),d=i(558001),c=i(788028),p=i(481958),m=i(163201);let u=(0,o.memo)(e=>{let{srOnlyMessage:t,currentNumber:i,totalNumber:s,progressNumbersClassName:o}=e,r=(0,m.D)(),u=e=>r(e,{minimumIntegerDigits:s.toString().length}),h=u(i),g=u(s),x=s<=0;return(0,n.jsxs)("div",{className:a().dynamic([["48efc30f7c998a5",[d.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxxs})]]])+" content-progress",children:[(0,n.jsx)("div",{"aria-live":"assertive","aria-atomic":"true",className:a().dynamic([["48efc30f7c998a5",[d.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxxs})]]])+" "+(p.KS||""),children:t}),(0,n.jsxs)("div",{role:"presentation",dir:"ltr",className:a().dynamic([["48efc30f7c998a5",[d.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxxs})]]])+" "+(o||""),children:[(0,n.jsx)("div",{className:a().dynamic([["48efc30f7c998a5",[d.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxxs})]]])+" "+(l()({empty:x})||""),children:h}),(0,n.jsx)("div",{className:a().dynamic([["48efc30f7c998a5",[d.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxxs})]]]),children:"/"}),(0,n.jsx)("div",{className:a().dynamic([["48efc30f7c998a5",[d.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxxs})]]])+" "+(l()({empty:x})||""),children:g})]}),(0,n.jsx)(a(),{id:"48efc30f7c998a5",dynamic:[d.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxxs})],children:`[role="presentation"].__jsx-style-dynamic-selector{font-variant-numeric:tabular-nums;${d.ZP.gapped({direction:"horizontal",gap:c.default.spacing.xxxs})}
          }.empty.__jsx-style-dynamic-selector{position:relative;visibility:hidden}.empty.__jsx-style-dynamic-selector::after{visibility:visible;content:"-";position:absolute;inset:0;text-align:center}`})]})})},47209:function(e,t,i){var n=i(552322),s=i(742951),a=i.n(s),o=i(412524),r=i.n(o),l=i(790007),d=i(416633),c=i(326860),p=i(980860),m=i(537905),u=i(727962);t.Z=e=>{let{isRenderedInlineInStory:t=!1,isRenderedInFrameOrBriefing:i=!1,...s}=e,o=(0,p.XL)(),{theme:h}=(0,l.Fj)(),g=(0,m.Z)(),x=(0,u.O)({themeVariables:o,websiteTheme:h,flavor:i?"frame":t?"story":void 0}),f=g(s.tooltipId),y="single-icon",b={styles:(0,n.jsx)(a(),{id:"93b99be9d51bc66f",dynamic:[y,s.id,x.foregroundColor,x.backgroundColor,y,s.id,x.hoverBackgroundColor,y,s.id,x.activeForegroundColor,x.activeBackgroundColor,y,s.id,x.separatorColor],children:`.${y}.${s.id}.themed.__jsx-style-dynamic-selector>*{color:${x.foregroundColor};background-color:${x.backgroundColor}}.${y}.${s.id}.themed.__jsx-style-dynamic-selector:not(.disabled):hover>*{background-color:${x.hoverBackgroundColor}}.${y}.${s.id}.themed.__jsx-style-dynamic-selector:not(.disabled):is(:active,[aria-haspopup][aria-expanded="true"],[aria-haspopup][aria-expanded="true"]:hover)>*{color:${x.activeForegroundColor};background-color:${x.activeBackgroundColor}}.${y}.${s.id}.themed.disabled.__jsx-style-dynamic-selector>*{color:${x.separatorColor}}`}),className:a().dynamic([["93b99be9d51bc66f",[y,s.id,x.foregroundColor,x.backgroundColor,y,s.id,x.hoverBackgroundColor,y,s.id,x.activeForegroundColor,x.activeBackgroundColor,y,s.id,x.separatorColor]]])},j=s.isDisabled?g(s.disabledTooltipId):f;return(0,n.jsxs)(d.u,{disabled:!j,children:[(0,n.jsx)(d.aJ,{children:(0,n.jsx)(c.ZP,{type:y,className:r()(s.id,"themed",b.className),"aria-expanded":s.isActive,"aria-haspopup":"boolean"==typeof s.isActive,"aria-label":f,disabled:s.isDisabled,onClick:s.onClick,children:s.icon})}),(0,n.jsx)(d._v,{children:j}),b.styles]})}},537333:function(e,t,i){i.d(t,{Z:function(){return e4}});var n,s=i(552322),a=i(742951),o=i.n(a),r=i(202784),l=i(412524),d=i.n(l),c=i(790007),p=i(788028),m=i(382308),u=i(816211),h=i(355125),g=i(558001),x=i(819556),f=i(580279),y=i(92340),b=i(641391),j=i(293786),v=i(576527),k=i(207475),w=i(56867);let C=(0,r.createContext)({isLikedByUser:!1,likesCount:0,onItemLike:void 0,onItemUnlike:void 0,showSignInModal:void 0,mostRecentLikeUser:void 0}),P=()=>(0,r.useContext)(C);var Z=i(614549),I=i(177692),_=i(326860),N=i(902183),$=i(548995),S=i(537905);let T=new Map([[j.o.Story,"component.itemCard.dropdown.createStoryFromTemplate"]]),L={styles:(0,s.jsx)(o(),{id:"caa880fe3b0e1af6",children:`.button.jsx-caa880fe3b0e1af6{margin-inline:${p.default.spacing.xxxxs}}`}),className:"jsx-caa880fe3b0e1af6"},D=()=>{let e=(0,I.ZW)(),t=(0,S.Z)();return e.isTemplate&&(0,N.w_)(e.type)?(0,s.jsx)($.e,{routeDef:{route:"create",itemType:e.type,template:e.itemId},children:(0,s.jsxs)(_.ZP,{type:"primary",className:d()(L.className,"button"),children:[t(T.get(e.type)),L.styles]})}):null};var z=i(408736),A=i(342670),F=i(289274),B=i(588294),O=i(718478),M=i(793788),R=i(322889),H=i(636699),E=i(590004),U=i(207258),V=i(761769),W=i(318622),J=i(732563),K=i(826447),X=i(103010),q=i(405189),Y=i(686985);class G extends Y.J{constructor(e){super(e,{iconName:"heart",path:"",viewBox:"0 0 16 16",children:()=>(0,s.jsx)("path",{d:"M8.00047 13.6497L2.19047 7.88975C0.660469 6.35975 0.660469 3.66975 2.19047 2.12975C2.93047 1.37975 3.92047 0.969748 4.96047 0.969748C6.01047 0.969748 6.99047 1.37975 7.74047 2.12975L8.00047 2.39975L8.26047 2.12975C8.62312 1.76083 9.05588 1.46816 9.5333 1.26895C10.0107 1.06974 10.5232 0.968011 11.0405 0.969748C12.0905 0.969748 13.0705 1.37975 13.8105 2.12975C15.3405 3.65975 15.3405 6.34975 13.8105 7.87975L7.99047 13.6397L8.00047 13.6497Z",strokeLinejoin:"round"})})}}var Q=i(368667),ee=i(999354),et=i(567523),ei=i(65032),en=i(537587),es=i(46691),ea=i(725270),eo=i(47209),er=i(416633);let el=(0,r.forwardRef)((e,t)=>{let i=(0,S.Z)();e.iconPath||e.icon;let n=(0,s.jsxs)(J.Z.Item,{isFullWidth:!0,onClick:e.onClick,link:e.link,ref:t,isDisabled:!!e.disabledTooltipId,children:[(0,s.jsxs)("div",{className:o().dynamic([["d4c8116b375daf2e",[p.default.spacing.xs]]])+" menu-item",children:[e.icon,e.iconPath&&(0,s.jsx)(X.Z,{size:16,path:e.iconPath,"aria-hidden":!0}),(0,s.jsx)("p",{className:o().dynamic([["d4c8116b375daf2e",[p.default.spacing.xs]]]),children:e.text}),e.appendedUI]}),(0,s.jsx)(o(),{id:"d4c8116b375daf2e",dynamic:[p.default.spacing.xs],children:`.menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}p.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-margin-start:${p.default.spacing.xs};-moz-margin-start:${p.default.spacing.xs};margin-inline-start:${p.default.spacing.xs}}`})]});return e.disabledTooltipId?(0,s.jsxs)(er.u,{children:[(0,s.jsx)(er.aJ,{children:n}),(0,s.jsx)(er._v,{children:i(e.disabledTooltipId)})]}):n});class ed extends r.PureComponent{render(){let e=this.getStartItems(),t=this.getCenterItems(),i=this.getEndItems(),n=e.length>0&&(t.length>0||i.length>0),a=t.length>0&&i.length>0,o=[...e,...n?[(0,s.jsx)(J.Z.Divider,{},"start-divider")]:[],...t,...a?[(0,s.jsx)(J.Z.Divider,{},"center-divider")]:[],...i];return 0===o.length?null:(0,s.jsx)(K.Z,{renderTarget:e=>this.renderTarget(e),popper:(0,s.jsx)(J.Z,{disabled:"embedded-preview"===this.props.mode,children:o}),placement:this.props.storyItem.type===j.o.Frame?"top-end":"bottom-end"})}get canShowDuplicateOptions(){return this.props.isViewportMinWidth("large")&&(0,Q.VE)({itemDetails:this.props.storyItem.itemDetails,authManager:this.props.authManager})}constructor(...e){super(...e),this.getStartItems=()=>{let e=[];if(this.props.canEdit&&this.props.isViewportMinWidth("large")){let t=this.getEditContent();e.push(t)}return e},this.getCenterItems=()=>{let e=[];if(this.props.storyItem.type===j.o.Frame||this.props.isViewportMaxWidth("small")&&(this.props.storyItem.type===j.o.Story||this.props.storyItem.type===j.o.Collection)){let t=this.getViewLikesContent();t&&e.push(t)}if(this.props.favoriteContent&&e.push(this.props.favoriteContent),this.props.isViewportMinWidth("medium")&&this.props.storyItem.type!==j.o.Frame){let t=this.getAutoplayContent();e.push(t)}if(this.props.isViewportMinWidth("medium")&&(this.props.storyItem.type===j.o.Story||this.props.storyItem.type===j.o.Briefing)){let t=this.getPrintPreviewContent();e.push(t)}if(this.props.storyItem.type===j.o.Collection&&"string"==typeof this.props.itemHref){let t=this.getOpenItemContent(this.props.itemHref);e.push(t)}if(this.props.onEmbedClicked){let t=this.getEmbedContent();e.push(t)}if(this.props.featureDecisions.canReportAbuse){let t=this.getReportAbuseContent();t&&e.push(t)}return e},this.getEndItems=()=>{let e=[],t=this.getDuplicateItemContent(),i=this.getDuplicateAsTemplateContent();return t&&e.push(t),i&&e.push(i),e},this.renderTarget=e=>(0,s.jsx)(eo.Z,{id:"context-menu-btn",tooltipId:"common.moreActions",icon:(0,s.jsx)(X.Z,{path:B.w,size:16,"aria-hidden":!0}),isActive:e,isRenderedInFrameOrBriefing:this.props.storyItem.type===j.o.Frame||this.props.storyItem.type===j.o.Briefing}),this.getEditContent=()=>{let{storyItem:e}=this.props;return(0,s.jsx)($.e,{routeDef:(0,et.kN)({route:"builder",itemType:e.type,itemId:e.itemId,isTemplate:e.isTemplate}),children:(0,s.jsx)(el,{text:(0,s.jsx)(A.Z,{id:this.props.storyItem.isTemplate?"component.viewerHeader.edit.template":this.props.storyItem.type===j.o.Story?"component.viewerHeader.edit":this.props.storyItem.type===j.o.Collection?"component.myCollections.builder.edit":"component.viewerHeader.edit.briefing"}),appendedUI:this.props.publishIndicator&&(0,s.jsx)("div",{className:"indicator-container",children:this.props.publishIndicator}),iconPath:O.Y})},"edit")},this.getDuplicateItemContent=()=>{if(!this.canShowDuplicateOptions||!this.props.onDuplicateClicked)return null;let e=(0,Q.KV)({itemDetails:this.props.storyItem.itemDetails,authManager:this.props.authManager,storyMapUserPrivileges:this.props.storyMapUserPrivileges});return(0,s.jsx)(el,{onClick:this.props.onDuplicateClicked,iconPath:M.j,text:(0,s.jsx)(A.Z,{id:this.props.storyItem.isTemplate?"component.builderHeader.duplicateItem.template.dropdown":({[j.o.Story]:"component.builderHeader.duplicateItem.story.dropdown",[j.o.Briefing]:"component.builderHeader.duplicateItem.briefing.dropdown",[j.o.Collection]:"component.builderHeader.duplicateItem.collection.dropdown",[j.o.Frame]:"component.builderHeader.duplicateItem.briefing.dropdown",[j.o.Theme]:"component.builderHeader.duplicateItem.theme.dropdown"})[this.props.storyItem.type]}),disabledTooltipId:e?void 0:"publicAccount.disabled"},"duplicate-viewer")},this.getDuplicateAsTemplateContent=()=>{let e=this.props.storyItem.type;if(!this.canShowDuplicateOptions||!this.props.featureDecisions.canUseTemplates||this.props.storyItem.isTemplate||!(0,N.w_)(e))return null;let t={route:"create-template",itemType:e,template:this.props.storyItem.itemId};return(0,s.jsx)($.e,{routeDef:t,children:(0,s.jsx)(el,{link:{href:this.props.storyRouting.getUrlFromRouteDef(t),openInNewPage:!1},iconPath:R.x,text:(0,s.jsx)(A.Z,{id:"builder.common.duplicateAsTemplate"}),disabledTooltipId:this.props.storyMapUserPrivileges.canCreateTemplate&&(0,Q.KV)({itemDetails:this.props.storyItem.itemDetails,authManager:this.props.authManager,storyMapUserPrivileges:this.props.storyMapUserPrivileges})?void 0:"publicAccount.disabled"})},"duplicate-as-template")},this.getEmbedContent=()=>{let e=(0,en.pJ)(this.props.storyItem.type);return(0,s.jsx)(el,{iconPath:H.T,text:(0,s.jsx)(A.Z,{id:e}),onClick:this.onEmbedClicked},"embed-story")},this.getOpenItemContent=e=>(0,s.jsx)(el,{iconPath:E.D,text:(0,s.jsx)(A.Z,{id:"builder.common.openNewTab"}),link:{href:e,openInNewPage:!0}},"open-item-in-new-tab"),this.onClickAutoplay=()=>{let e=this.props.storyItem.type===j.o.Collection?ee.Z.Name.Viewer_Autoplay_Collection:this.props.storyItem.type===j.o.Story?ee.Z.Name.Viewer_Autoplay_Story:ee.Z.Name.Viewer_Autoplay_Briefing;ee.Z.trackEvent(ee.Z.Category.Viewer,ee.Z.Action.Viewer_Autoplay,e),this.props.enableAutoplay()},this.getAutoplayContent=()=>this.props.isAutoplayEnabled?(0,s.jsx)(el,{onClick:this.props.disableAutoplay,iconPath:U.O,text:(0,s.jsx)(A.Z,{id:"component.viewerHeader.storySettings.disable.autoplay"})},"disable-autoplay"):(0,s.jsx)(el,{onClick:this.onClickAutoplay,iconPath:U.O,text:(0,s.jsx)(A.Z,{id:"component.viewerHeader.storySettings.enable.autoplay"})},"enable-autoplay"),this.getPrintPreviewContent=()=>(0,s.jsx)(el,{onClick:this.onRequestPrint,iconPath:V.j,text:(0,s.jsx)(A.Z,{id:"common.printPreview"}),appendedUI:(0,s.jsx)(q.M6,{tooltip:this.props.intl.formatMessage({id:"common.printPreview.tooltip"}),dimension:"small"})},"print-preview"),this.onRequestPrint=()=>{(this.props.storyItem.type===j.o.Story||this.props.storyItem.type===j.o.Briefing)&&(window.location.href=this.props.storyRouting.getUrlFromRouteDef((0,et.kN)({route:"print",printMode:"view"===this.props.mode?"published":"preview",itemType:this.props.storyItem.type,itemId:this.props.storyItem.itemId,isTemplate:this.props.storyItem.isTemplate})))},this.getReportAbuseContent=()=>{let e=(0,ei.j5)({getUrlFromRouteDef:this.props.storyRouting.getUrlFromRouteDef});if(e)return(0,s.jsx)(el,{iconPath:W.G,text:(0,s.jsx)(A.Z,{id:"component.viewerHeader.storySettings.reportAbuse"}),link:{href:e,openInNewPage:!0}},"report-abuse")},this.getViewLikesContent=()=>{if(0!==this.props.likesCount)return(0,s.jsx)(el,{icon:(0,s.jsx)(G,{width:p.default.spacing.xxs,height:p.default.spacing.xxs,fill:"transparent",stroke:"currentColor","aria-hidden":!0}),text:(0,s.jsx)(A.Z,{id:"component.frameActionBar.contextMenu.viewLikes"}),onClick:this.props.showLikesModal},"view-likes")},this.onEmbedClicked=()=>{this.props.onEmbedClicked?.()}}}var ec=(0,et.Jy)((0,u.VO)((0,x.oh)((0,ea.HH)((n=(0,es.Z)((0,F.ZP)((0,h.d2)(ed))),e=>(0,s.jsx)(C.Consumer,{children:t=>(0,s.jsx)(n,{...e,...t})})))))),ep=i(254073),em=i.n(ep),eu=i(228168),eh=i(219814);let eg=e=>{let{addStringId:t,removeStringId:i,filledIconPath:n,unfilledIconPath:a}=(0,eu._)(),{isFavorite:o,onItemFavorite:l,onItemUnfavorite:d,showSignInModal:c}=(0,eh.gB)(),{authManager:p}=(0,h.Pc)(),m=(0,r.useMemo)(()=>em()(()=>{p?o?d():l():c?.()},500),[p,o,l,d,c]);return(0,s.jsx)(eo.Z,{id:"fav-btn",tooltipId:o?i:t,onClick:m,icon:(0,s.jsx)(X.Z,{path:o?n:a,size:16}),isRenderedInlineInStory:e.isRenderedInlineInStory,isRenderedInFrameOrBriefing:e.isRenderedInFrameOrBriefing})},ex=()=>{let{addStringId:e,removeStringId:t,filledIconPath:i,unfilledIconPath:n}=(0,eu._)(),{isFavorite:a,onItemFavorite:o,onItemUnfavorite:l,showSignInModal:d}=(0,eh.gB)(),{authManager:c}=(0,h.Pc)(),p=(0,r.useMemo)(()=>em()(()=>{c?a?l():o():d?.()},500),[c,a,o,l,d]);return(0,s.jsx)(el,{onClick:p,iconPath:a?i:n,text:(0,s.jsx)(A.Z,{id:a?t:e})})};var ef=i(697912),ey=e=>{let{onFrameRestartClick:t}=e;return(0,s.jsx)(eo.Z,{id:"frame-reset-btn",tooltipId:"component.frames.viewer.action.reset",onClick:()=>{ee.Z.trackEvent(ee.Z.Category.Viewer,ee.Z.Action.Frames_Restart,j.o.Frame),t()},icon:(0,s.jsx)(X.Z,{size:16,path:ef.o}),isRenderedInFrameOrBriefing:!0})},eb=i(249177),ej=i(663010),ev=i(850358),ek=i(980860),ew=i(727962),eC=e=>{let{isRenderedInline:t,isRenderedInNativeApp:i,itemOwner:n}=e,{authManager:a}=(0,h.Pc)(),r=(0,S.Z)(),{isLikedByUser:l,likesCount:m,showSignInModal:u,showLikesModal:x,mostRecentLikeUser:f}=P(),y=(0,ek.XL)(),{theme:b}=(0,c.Fj)(),{BASE_URL:j}=(0,ev.ZR)(),v=(0,ej.z$)(),k=!!a,{foregroundColor:w}=(0,ew.O)({themeVariables:y,websiteTheme:b,flavor:t?"story":void 0}),C=f?.fullName??"",Z={route:"profile",profileSlug:f?.udn??""},I=k&&m>0&&C&&!l,_=a?.username===n&&0===m,N=()=>1===m?"viewer.likeCount.oneLike":"viewer.likeCount.xLikes",T=()=>{switch(m){case 0:return"viewer.like.signInModal.noOneHasLikedThisItemYet";case 1:return"viewer.unauthenticated.likeCount.onePersonLikedThisItem";default:return"viewer.unauthenticated.likeCount.xPeopleLikedThisItem"}},L=()=>{switch(m){case 0:return{count:m,likedByUser:"viewer.like.signInModal.noOneHasLikedThisItemYet",notLikedByUser:"viewer.like.signInModal.noOneHasLikedThisItemYet"};case 1:return{count:m,likedByUser:"viewer.authenticated.likeCount.youLikedThisItem",notLikedByUser:"viewer.authenticated.likeCount.onePersonLikedThisItem"};case 2:return{count:m-1,likedByUser:"viewer.authenticated.likeCount.youAndOneOtherLikedThisItem",notLikedByUser:"viewer.authenticated.likeCount.personAndOneOtherLikedThisItem"};default:return{count:m-1,likedByUser:"viewer.authenticated.likeCount.youAndXOthersLikedThisItem",notLikedByUser:"viewer.authenticated.likeCount.personAndXOthersLikedThisItem"}}},D=()=>k?x?.():u?.(),{stringId:z,count:A}=(()=>{if(!t)return{stringId:N(),count:m};if(k){let e=L();return{stringId:l?e.likedByUser:e.notLikedByUser,count:e.count}}return{stringId:T(),count:m}})();return(0,s.jsxs)(s.Fragment,{children:[t?(0,s.jsxs)("div",{className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]])+" "+(d()("inline-message",{"has-avatar":I})||""),children:[I&&!i&&(0,s.jsx)($.e,{routeDef:Z,children:(0,s.jsx)("a",{...v.getDataAttributes({name:"Inline likes message",content:"Author profile"}),className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]]),children:(0,s.jsx)("img",{src:f?.thumbnailUrl||`${j}/static/images/blank-avatar.svg`,alt:r("viewer.likesModal.userThumbnail.alt",{fullName:C}),className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]])})})}),I&&i&&(0,s.jsx)("img",{src:f?.thumbnailUrl||`${j}/static/images/blank-avatar.svg`,alt:r("viewer.likesModal.userThumbnail.alt",{fullName:C}),className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]])}),!_&&(0,s.jsx)("span",{className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]]),children:r(z,{strong:e=>(0,s.jsx)("strong",{className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]]),children:e}),link:e=>i?e:(0,s.jsx)($.e,{routeDef:Z,children:(0,s.jsx)("a",{...v.getDataAttributes({name:"Inline likes message",content:"Author profile"}),className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]]),children:e})}),modal:e=>i?e:(0,s.jsx)("button",{onClick:D,...v.getDataAttributes({name:"Number of likes - story inline",content:k?"Likes modal":"Sign in modal"}),className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]]),children:e}),number:(0,s.jsx)(eb.BK,{value:A}),fullName:C})})]}):(0,s.jsx)("button",{onClick:D,...v.getDataAttributes({name:"Number of likes - viewer header",content:k?"Likes modal":"Sign in modal"}),className:o().dynamic([["cd3cb478f388ba81",[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs]]])+" header-message",children:r(z,{number:(0,s.jsx)(eb.BK,{value:A})})}),(0,s.jsx)(o(),{id:"cd3cb478f388ba81",dynamic:[w,g.ZP.typography.labelSmall(),y.bodyColor,g.ZP.typography.caption(),p.default.spacing.xxxs,p.default.spacing.xxxxs,p.default.font.weight.medium,p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxxs],children:`.header-message.__jsx-style-dynamic-selector{color:${w};${g.ZP.typography.labelSmall()}
        }.inline-message.__jsx-style-dynamic-selector,.inline-message.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector{color:${y.bodyColor}}.inline-message.__jsx-style-dynamic-selector{${g.ZP.typography.caption()}
          display: flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:${p.default.spacing.xxxs}}.inline-message.has-avatar.__jsx-style-dynamic-selector{margin:${p.default.spacing.xxxxs}}strong.__jsx-style-dynamic-selector{font-weight:${p.default.font.weight.medium}}a.__jsx-style-dynamic-selector{text-decoration:none}.__jsx-style-dynamic-selector:is(a,button):is(:hover,:focus){text-decoration:underline}img.__jsx-style-dynamic-selector{width:${p.default.spacing.xxs};height:${p.default.spacing.xxs};-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-o-object-fit:contain;object-fit:contain;margin:${p.default.spacing.xxxs};display:block}`})]})},eP=e=>{let{isRenderedInlineInStory:t,isRenderedInFrameOrBriefing:i,itemOwner:n,className:a}=e,{authManager:l}=(0,h.Pc)(),{isLikedByUser:c,likesCount:m,onItemLike:x,onItemUnlike:f,showSignInModal:y}=P(),{isViewportMaxWidth:b}=(0,u.uw)(),j=m>0,v=b("small"),k=j&&(i||v&&!t);(0,r.useEffect)(()=>()=>{I.cancel()},[]);let w=!!l,C=p.default.spacing.xxs,Z=c?"viewer.unlike.tooltip":"viewer.like.tooltip",I=(0,r.useMemo)(()=>em()(()=>{w?c?f?.():x?.():y?.()},500),[c,w,x,f,y]),_=()=>(0,s.jsx)(G,{width:C,height:C,stroke:"currentColor",fill:c?"#E54867":"transparent","aria-hidden":!0});return(0,s.jsxs)("div",{className:o().dynamic([["687f6b03db894509",[p.default.spacing.custom("1.2rem")]]])+" "+(d()("like-details-container",a)||""),children:[(0,s.jsx)(eo.Z,{id:"like-btn",tooltipId:Z,onClick:I,icon:k?(0,s.jsxs)("div",{className:o().dynamic([["ef42f73f54c34692",[p.default.spacing.xxxxs,g.ZP.typography.labelLarge({skip:["line-height"]})]]])+" like-heart-icon",children:[_(),(0,s.jsx)("p",{className:o().dynamic([["ef42f73f54c34692",[p.default.spacing.xxxxs,g.ZP.typography.labelLarge({skip:["line-height"]})]]])+" like-count",children:(0,s.jsx)(eb.BK,{value:m})}),(0,s.jsx)(o(),{id:"ef42f73f54c34692",dynamic:[p.default.spacing.xxxxs,g.ZP.typography.labelLarge({skip:["line-height"]})],children:`.like-heart-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:${p.default.spacing.xxxxs}}.like-count.__jsx-style-dynamic-selector{${g.ZP.typography.labelLarge({skip:["line-height"]})}
        }`})]}):_(),isRenderedInlineInStory:t,isRenderedInFrameOrBriefing:i,isDisabled:l?.username===n,disabledTooltipId:"viewer.like.disabled.tooltip"}),j&&!i&&!v&&!t&&(0,s.jsx)("div",{className:o().dynamic([["687f6b03db894509",[p.default.spacing.custom("1.2rem")]]])+" expanded-count",children:(0,s.jsx)(eC,{isRenderedInline:!1,itemOwner:n})}),(0,s.jsx)(o(),{id:"687f6b03db894509",dynamic:[p.default.spacing.custom("1.2rem")],children:`.like-details-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.expanded-count.__jsx-style-dynamic-selector{-webkit-margin-end:${p.default.spacing.custom("1.2rem")};-moz-margin-end:${p.default.spacing.custom("1.2rem")};margin-inline-end:${p.default.spacing.custom("1.2rem")}}`})]})},eZ=i(10111),eI=i(625056),e_=i(424915),eN=i(89835),e$=i(119477),eS=i(547161),eT=i(372031),eL=i(925200),eD=i(340110),ez=i(994189),eA=i(762920),eF=i(256677),eB=i(594550);function eO(e){return(0,s.jsxs)("div",{className:o().dynamic([["c0062671ab17fae7",[e.background,p.default.spacing.xxxs]]])+" copy-link-container",children:[(0,s.jsx)(X.Z,{path:e.path,size:32,fill:e.fill}),(0,s.jsx)(o(),{id:"c0062671ab17fae7",dynamic:[e.background,p.default.spacing.xxxs],children:`.copy-link-container.__jsx-style-dynamic-selector{background:${e.background};-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;padding:${p.default.spacing.xxxs}}`})]})}function eM(e){let{appTitle:t,itemUrl:i,onCopyLink:n}=e,[a,l]=(0,r.useState)(!1),d=(0,S.Z)(),m=(0,I.ZW)(),{theme:u,productVariables:h}=(0,c.Fj)(),{TWITTER_HANDLE:x,TWITTER_HASHTAGS:f}=(0,ev.ZR)(),y=`calc(2 * ${p.default.spacing.xs})`,b=[{key:"copy-link",icon:(0,s.jsx)(eO,{fill:u.colors.labelPrimary,path:eL.M,background:h.colors.link200}),onClick:()=>n(),title:d("common.copyLink")},...m.type===j.o.Briefing?[{key:"copy-slide-link",icon:(0,s.jsx)(eO,{fill:u.colors.labelPrimary,path:eD.p,background:u.colors.surfaceDefaultStrong}),onClick:()=>n(!0),title:d("common.copyLinkToSlide")}]:[],{key:"facebook",icon:(0,s.jsx)(eA._,{...(0,eN.JK)(y)}),onClick:()=>(0,eS.yj)(i),title:d("common.facebook")},{key:"x",icon:(0,s.jsx)(eB.L,{...(0,eN.JK)(y)}),onClick:()=>(0,eS.LW)({appTitle:t,itemUrl:i,handle:x,hashtags:f}),title:"X"},{key:"linkedin",icon:(0,s.jsx)(eF.q,{...(0,eN.JK)(y)}),onClick:()=>(0,eS.N$)(),title:d("common.linkedIn")}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:o().dynamic([["baab0341128f7cbc",[g.ZP.center("column"),p.default.spacing.xxxs,u.colors.labelSecondary,g.ZP.typography.caption(),g.ZP.center("row"),p.default.spacing.xxs,p.default.spacing.sm,g.ZP.center("column"),p.default.spacing.xxxs,p.default.spacing.xxl]]])+" sharing-container",children:b.map(e=>{let{key:t,icon:i,title:n,onClick:a}=e;return(0,s.jsxs)("button",{onClick:a,className:o().dynamic([["baab0341128f7cbc",[g.ZP.center("column"),p.default.spacing.xxxs,u.colors.labelSecondary,g.ZP.typography.caption(),g.ZP.center("row"),p.default.spacing.xxs,p.default.spacing.sm,g.ZP.center("column"),p.default.spacing.xxxs,p.default.spacing.xxl]]])+" sharing-option",children:[i,n]},t)})}),(0,s.jsxs)("div",{className:o().dynamic([["baab0341128f7cbc",[g.ZP.center("column"),p.default.spacing.xxxs,u.colors.labelSecondary,g.ZP.typography.caption(),g.ZP.center("row"),p.default.spacing.xxs,p.default.spacing.sm,g.ZP.center("column"),p.default.spacing.xxxs,p.default.spacing.xxl]]])+" container",children:[(0,s.jsx)("p",{className:o().dynamic([["baab0341128f7cbc",[g.ZP.center("column"),p.default.spacing.xxxs,u.colors.labelSecondary,g.ZP.typography.caption(),g.ZP.center("row"),p.default.spacing.xxs,p.default.spacing.sm,g.ZP.center("column"),p.default.spacing.xxxs,p.default.spacing.xxl]]]),children:d("component.socialSharing.qrCode.description")}),!a&&(0,s.jsx)(ez.s,{data:i,size:130,onError:()=>l(!0)})]}),(0,s.jsx)(o(),{id:"baab0341128f7cbc",dynamic:[g.ZP.center("column"),p.default.spacing.xxxs,u.colors.labelSecondary,g.ZP.typography.caption(),g.ZP.center("row"),p.default.spacing.xxs,p.default.spacing.sm,g.ZP.center("column"),p.default.spacing.xxxs,p.default.spacing.xxl],children:`.container.__jsx-style-dynamic-selector{${g.ZP.center("column")}
          gap: ${p.default.spacing.xxxs};-webkit-box-align:start;-webkit-align-items:start;-moz-box-align:start;-ms-flex-align:start;align-items:start;color:${u.colors.labelSecondary};${g.ZP.typography.caption()}
        }.sharing-container.__jsx-style-dynamic-selector{${g.ZP.center("row")}
          align-items: start;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;gap:${p.default.spacing.xxs};margin-bottom:${p.default.spacing.sm}}.sharing-option.__jsx-style-dynamic-selector{${g.ZP.center("column")}
          gap: ${p.default.spacing.xxxs};width:${p.default.spacing.xxl}}`})]})}function eR(e){let{activeNodeId:t,appTitle:i,isShowing:n,onClose:a,itemUrl:o}=e,[l,d]=(0,r.useState)(),{toast:c}=(0,eI.pm)(),{isPortal:p}=(0,e$.rA)(),m=(0,I.ZW)(),u=(0,S.Z)();async function h(e){return e&&t?await (0,eS.Ht)({longUrl:`${o}#ref-${t}`,shouldUseShortUrl:!1}):l||await (0,eN.m$)(o,p)}async function g(e){let t=await h(e);await (0,eS.nt)({url:t||o,toast:c,itemType:m.type})}(0,r.useEffect)(()=>{(async()=>{l||d(await (0,eN.m$)(o,p))})()},[n,l]);let x=[{id:"share",title:u("common.shareItem"),modalProperties:[{id:"share-options",customComponent:(0,s.jsx)(eM,{appTitle:i,itemUrl:o,onCopyLink:g})}]},{id:"embed",title:u("builder.common.embed"),modalProperties:[{id:"embed-options",customComponent:(0,s.jsx)(eT.C,{})}]}];return(0,s.jsx)(e_.Z,{isShowingModal:n,mediaTitle:u("component.socialSharing.modal.title"),tabs:x,onConfirm:a,onDiscard:a,isSaveDisabled:!1,saveButtonContent:u("common.done")})}var eH=function(e){let[t,i]=(0,r.useState)(!1),n=(0,I.ZW)(),{getUrlFromRouteDef:a}=(0,et.Gr)(),o=(0,r.useMemo)(()=>a((0,et.kN)({route:"viewer",itemType:n.type,itemId:n.itemId,isTemplate:n.isTemplate})),[n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eo.Z,{id:"social-sharing-btn",tooltipId:"common.shareItem",icon:(0,s.jsx)(X.Z,{path:eZ.A,size:16}),isDisabled:e.isDisabled,isRenderedInlineInStory:e.isRenderedInlineInStory,isRenderedInFrameOrBriefing:e.isRenderedInFrameOrBriefing,onClick:()=>i(!0)}),(0,s.jsx)(eR,{activeNodeId:e.getActiveNodeId?.(),appTitle:e.appTitle,isShowing:t,onClose:()=>i(!1),itemUrl:o})]})},eE=i(783112),eU=i(278308),eV=i(657370),eW=i(560475),eJ=i(905100);let eK=e=>{let[t,i]=(0,r.useState)(),n=(0,S.Z)(),{theme:a}=(0,c.Fj)(),{translateContentIntoLocale:l,submitTranslationFeedback:d}=(0,w.Od)(),m=!t||0===t.localeCompare(e.locale,"en-US",{sensitivity:"base"});return(0,s.jsxs)(eW.Z,{headerTitle:n("component.languageModal.title"),isShowingModal:e.isOpen,primaryButtonTitle:n("builder.common.save"),secondaryButtonTitle:n("common.close"),onPrimaryButtonClick:()=>{e.onClose(),t&&l(t)},isPrimaryButtonDisabled:m,onSecondaryButtonClick:e.onClose,onCloseButtonClick:e.onClose,closeButtonLabel:n("common.close"),children:[(0,s.jsxs)("fieldset",{className:o().dynamic([["c382f2e9c18fefeb",[g.ZP.overflowWrap({shouldApplyWordBreak:!0}),a.colors.labelSecondary,p.default.spacing.xxs,g.ZP.typography.bodyLarge(),g.ZP.typography.labelLarge(),p.default.spacing.xxs,a.colors.labelLink]]]),children:[(0,s.jsx)("legend",{className:o().dynamic([["c382f2e9c18fefeb",[g.ZP.overflowWrap({shouldApplyWordBreak:!0}),a.colors.labelSecondary,p.default.spacing.xxs,g.ZP.typography.bodyLarge(),g.ZP.typography.labelLarge(),p.default.spacing.xxs,a.colors.labelLink]]]),children:n("component.languageModal.description")}),(0,s.jsx)(eJ.Z,{languages:e.languages,locale:e.locale,onLocaleChange:i}),(0,s.jsx)("button",{onClick:()=>{e.onClose(),d()},className:o().dynamic([["c382f2e9c18fefeb",[g.ZP.overflowWrap({shouldApplyWordBreak:!0}),a.colors.labelSecondary,p.default.spacing.xxs,g.ZP.typography.bodyLarge(),g.ZP.typography.labelLarge(),p.default.spacing.xxs,a.colors.labelLink]]])+" feedback-button",children:n("common.translationFeedback")})]}),(0,s.jsx)(o(),{id:"c382f2e9c18fefeb",dynamic:[g.ZP.overflowWrap({shouldApplyWordBreak:!0}),a.colors.labelSecondary,p.default.spacing.xxs,g.ZP.typography.bodyLarge(),g.ZP.typography.labelLarge(),p.default.spacing.xxs,a.colors.labelLink],children:`fieldset.__jsx-style-dynamic-selector{min-width:0;${g.ZP.overflowWrap({shouldApplyWordBreak:!0})}
        }legend.__jsx-style-dynamic-selector{color:${a.colors.labelSecondary};margin-bottom:${p.default.spacing.xxs};${g.ZP.typography.bodyLarge()}
        }.feedback-button.__jsx-style-dynamic-selector{display:block;${g.ZP.typography.labelLarge()}
          margin-top: ${p.default.spacing.xxs};color:${a.colors.labelLink}}`})]})};var eX=e=>(0,s.jsx)(c.tT,{defaultTheme:"light",children:(0,s.jsx)(eK,{...e})}),eq=i(433888),eY=i(704407);let eG="viewer-translation",eQ="dismissed-nudge",e0=e=>{(0,eY.qQ)({name:eG,id:eQ,value:e})},e2=()=>(0,eY.$o)({name:eG,id:eQ}),e1=()=>{let[e,t]=(0,r.useState)(!1),i=(0,r.useCallback)(()=>{e0(!0),t(!1)},[]);return(0,r.useEffect)(()=>{e2()||t(!0)},[]),{isTranslationNudgeVisible:e,dismissTranslationNudge:i}},e5=e=>{let{originalLanguageCode:t,availableTranslationLocales:i}=e,n=(0,r.useRef)(!1),a=(0,S.Z)(),{theme:o}=(0,c.Fj)(),{toast:l}=(0,eI.pm)(),{currentLanguageInfo:d,allSupportedLanguages:p}=(0,w.Od)();(0,r.useEffect)(()=>{!n.current&&d&&i.includes(d.culture.toLocaleLowerCase("en-US"))&&(0,f.dA)(d.culture,p)!==t&&(l.add({title:a("viewer.translation.toast.machineTranslate",{languageName:d.localizedName}),type:"success",icon:(0,s.jsx)(X.Z,{path:eq.V,size:24,fill:o.colors.labelLink})}),n.current=!0)},[l,a,d,i,p,t,o.colors.labelLink])};var e8=e=>{let{availableTranslationLocales:t,originalLanguageCode:i}=e,[n,a]=(0,r.useState)(!1),o=(0,S.Z)(),l=(0,ek.XL)(),d=(0,en.nA)(l),{locale:p}=(0,eE.Z)(),m=(0,Z.kE)({supportedLocales:t}),{isTranslationNudgeVisible:u,dismissTranslationNudge:h}=e1();return e5({originalLanguageCode:i,availableTranslationLocales:t}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eV.Z,{target:(0,s.jsx)(c.tT,{defaultTheme:d,children:(0,s.jsx)(eo.Z,{id:"translate-btn",tooltipId:"viewer.translation.tooltip",icon:(0,s.jsx)(X.Z,{path:eU.v,size:16}),onClick:()=>a(!0)})}),title:o("viewer.translation.nudge.title"),placement:"bottom",isShowing:u,onClick:h}),m&&(0,s.jsx)(eX,{locale:p,languages:m,isOpen:n,onClose:()=>a(!1)})]})};let e3=()=>{let e=(0,c.Fj)();return(0,s.jsx)("div",{className:o().dynamic([["6961c04ff42c4573",[p.default.spacing.custom("0.1rem"),e.theme.colors.outlineSubduedDefault,p.default.spacing.sm]]])+" divider",children:(0,s.jsx)(o(),{id:"6961c04ff42c4573",dynamic:[p.default.spacing.custom("0.1rem"),e.theme.colors.outlineSubduedDefault,p.default.spacing.sm],children:`.divider.__jsx-style-dynamic-selector{width:${p.default.spacing.custom("0.1rem")};background-color:${e.theme.colors.outlineSubduedDefault};height:${p.default.spacing.sm}}`})})};var e4=e=>{let{storyId:t,sharingLevel:i,canEdit:n=!1,areSocialIconsHidden:a,isContextMenuHidden:l=!1,shouldAlwaysShowFavoriteButton:C,storyType:_,mode:N,isRenderedInlineInStory:$,isRenderedInFrameOrBriefing:S,canShowLikeButton:T=!0,isRenderedInNativeApp:L,...A}=e,[F,B]=(0,r.useState)(!1),[O,M]=(0,m.Z)(!1),R=(0,x.bd)(),{isViewportMinWidth:H,isViewportMaxWidth:E}=(0,u.uw)(),{authManager:U}=(0,h.Pc)(),{onItemLike:V,onItemUnlike:W}=P(),J=(0,I.ZW)(),{allSupportedLanguages:K}=(0,w.Od)(),X=J.getOriginalStoryLocale(),q=(0,f.dA)(X,K),Y=[X,...J.getSupportedTranslationLocales()],G=(0,Z.kE)({supportedLocales:Y}),Q=(0,y.xR)(),ee=i.access===b.eJ.PUBLIC,et=i.isUnlisted,ei=(U||R.canShowItemActionsWhenSignedOut)&&void 0!==N&&"preview"!==N&&"embedded-preview"!==N,en=!a&&ee&&J.type!==j.o.Frame,es=()=>B(e=>!e),ea=J.isTemplate&&H("large"),eo=(!l&&H("small")||C)&&!Q&&ei,er=R.canShareSocially&&!a&&ee&&(H("large")||J.type===j.o.Frame),el=J.type===j.o.Story&&!$&&R.canTranslateViewerItems&&G&&G.length>0&&Y.length>1&&"view"===N,ed=!l&&!Q&&"preview"!==N,ep=eo||er||el||ed,em=T&&ee&&!et&&(U?"function"==typeof V&&"function"==typeof W:R.canShowItemActionsWhenSignedOut),eu=em&&ep&&!$&&!S&&!E("small"),eh=J.type===j.o.Frame,ef={styles:(0,s.jsx)(o(),{id:"26fb0e82fd7134fe",dynamic:[p.default.spacing.xxxxs],children:`.indicator-container.__jsx-style-dynamic-selector{margin:${p.default.spacing.xxxxs}}`}),className:o().dynamic([["26fb0e82fd7134fe",[p.default.spacing.xxxxs]]])},eb=ep&&(0,s.jsxs)(s.Fragment,{children:[ea&&(0,s.jsx)(D,{}),eo&&!L&&(0,s.jsx)(eg,{isRenderedInlineInStory:$,isRenderedInFrameOrBriefing:S}),er&&!L&&(0,s.jsx)(eH,{appTitle:A.title,isDisabled:"embedded-preview"===N||"preview"===N,isRenderedInlineInStory:$,isRenderedInFrameOrBriefing:S,getActiveNodeId:A.getActiveNodeId}),el&&!L&&(0,s.jsx)(e8,{originalLanguageCode:q,availableTranslationLocales:Y}),ed&&!L&&(0,s.jsx)(ec,{favoriteContent:ei&&!H("small")&&(0,s.jsx)(ex,{},"add-remove-favorite")||void 0,canEdit:!!n,publishIndicator:(0,s.jsx)(k.Z,{sharingLevel:i,mode:A.publishStatus,itemType:_,type:"indicator",indicatorClassName:d()("indicator-container",ef.className)}),onEmbedClicked:en?es:void 0,onDuplicateClicked:M,mode:N,itemHref:A.itemHref}),(0,s.jsxs)(c.tT,{defaultTheme:"light",children:[(0,s.jsx)(z.Z,{onModalClose:es,isModalOpen:F}),(0,s.jsx)(v.Z,{itemDetails:J.itemDetails,isTemplate:J.isTemplate,storyItemType:_,isVisible:O,onClose:M,duplicateMode:"published"})]}),ef.styles]}),ej=eh&&A.onFrameRestartClick&&(0,s.jsx)(ey,{onFrameRestartClick:A.onFrameRestartClick}),ev=em&&!L?(0,s.jsx)(eP,{isRenderedInlineInStory:$,isRenderedInFrameOrBriefing:S,itemOwner:A.itemOwner}):null;return(0,s.jsxs)(s.Fragment,{children:[$?(ee&&!et||J.type===j.o.Frame)&&(0,s.jsxs)("div",{className:o().dynamic([["86e33dfc345286cb",[p.default.spacing.lg,g.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"}),p.default.responsiveBreakpoints.large,p.default.spacing.xl]]])+" "+(d()("inline-actions-container",A.className)||""),children:[(0,s.jsxs)("div",{className:o().dynamic([["86e33dfc345286cb",[p.default.spacing.lg,g.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"}),p.default.responsiveBreakpoints.large,p.default.spacing.xl]]])+" inline-buttons",children:[ev,ej,eb]}),em&&(0,s.jsx)(eC,{isRenderedInline:!0,isRenderedInNativeApp:L,itemOwner:A.itemOwner})]}):(0,s.jsxs)("div",{className:o().dynamic([["86e33dfc345286cb",[p.default.spacing.lg,g.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"}),p.default.responsiveBreakpoints.large,p.default.spacing.xl]]])+" header-actions-container",children:[ev,eu&&(0,s.jsx)(e3,{}),eb]}),(0,s.jsx)(o(),{id:"86e33dfc345286cb",dynamic:[p.default.spacing.lg,g.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"}),p.default.responsiveBreakpoints.large,p.default.spacing.xl],children:`.inline-actions-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin:${p.default.spacing.lg} 0}.inline-buttons.__jsx-style-dynamic-selector,.header-actions-container.__jsx-style-dynamic-selector{${g.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"})};}@media(min-width:${p.default.responsiveBreakpoints.large}){.inline-actions-container.__jsx-style-dynamic-selector{margin:${p.default.spacing.xl} 0}}`})]})}},948667:function(e,t,i){var n=i(552322),s=i(742951),a=i.n(s),o=i(202784),r=i(289274),l=i(558001),d=i(788028),c=i(790007),p=i(332795),m=i(537587),u=i(400749),h=i(980860),g=i(340733),x=i(46691),f=i(321221),y=i(275409),b=i(844712);class j extends o.Component{static #e=this.defaultProps={canShowItemTitle:!0};componentDidMount(){let e=(0,p.wA)(f.gz),t=(0,p.wA)(f.$_);this.props.appOffset.updateAppOffsetValues({top:{storyHeader:e,templateBanner:this.props.storyItem.isTemplate?t:0}})}componentDidUpdate(e){let t=(0,m.nA)(this.props.storyDesign.themeVariables);t!==(0,m.nA)(e.storyDesign.themeVariables)&&this.props.websiteDesign.updateWebsiteTheme(t)}componentWillUnmount(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:0,templateBanner:0}})}render(){return(0,n.jsx)(y.Z,{...this.props,children:(0,n.jsxs)("div",{className:a().dynamic([["2865ac2ffc452b3c",[l.ZP.gapped({direction:"horizontal",gap:d.default.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" start-content",children:[this.props.isOrgItem?(0,n.jsxs)(n.Fragment,{children:[this.props.shouldShowLogoInHeader&&this.props.canShowItemTitle&&(0,n.jsx)(u.Z,{}),(0,n.jsx)("button",{"aria-label":this.props.intl.formatMessage({id:"component.autoplay.returnToTop"}),onClick:this.props.onTitleClicked,className:a().dynamic([["2865ac2ffc452b3c",[l.ZP.gapped({direction:"horizontal",gap:d.default.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" inherit",children:this.props.canShowItemTitle?(0,n.jsx)(b.Z,{title:this.props.title}):this.props.appLogo})]}):this.props.appLogo,(0,n.jsx)(a(),{id:"2865ac2ffc452b3c",dynamic:[l.ZP.gapped({direction:"horizontal",gap:d.default.spacing.xxs,alignItems:"center",justifyContent:"center"})],children:`.start-content.__jsx-style-dynamic-selector{${l.ZP.gapped({direction:"horizontal",gap:d.default.spacing.xxs,alignItems:"center",justifyContent:"center"})};}button.inherit.__jsx-style-dynamic-selector{color:inherit;text-align:inherit}`})]})})}}t.Z=(0,g.Jh)((0,r.ZP)((0,h.Fv)((0,c.EL)((0,x.D)(j)))))},982465:function(e,t,i){i.d(t,{r:function(){return r}});var n=i(202784),s=i(332795),a=i(340733),o=i(321221);let r=()=>{let{updateAppOffsetValues:e,top:t}=(0,a.YO)(),i=t===o.gz,r=(0,n.useCallback)(t=>{t!==i&&("boolean"!=typeof t&&(t=!i),e({top:{storyHeader:t?(0,s.wA)(o.gz):0}}))},[e,i]);return{hasSpaceForHeader:i,toggleHeaderSpace:r}}},844712:function(e,t,i){var n=i(552322),s=i(742951),a=i.n(s),o=i(202784),r=i(289274),l=i(558001),d=i(293786),c=i(980860),p=i(46691),m=i(108624);class u extends o.Component{static #e=this.defaultProps={itemType:d.o.Story};render(){let e=(0,m.RC)({itemType:this.props.itemType,isTemplate:this.props.storyItem.isTemplate,title:this.props.title,formatMessage:this.props.intl.formatMessage}),t=this.props.itemType===d.o.Briefing?this.props.storyDesign.themeVariables.mixins.typography.body.size.stepUp1:this.props.storyDesign.themeVariables.mixins.typography.body.size.stepDown1;return(0,n.jsxs)("span",{className:a().dynamic([["236c50309931b6ca",[l.ZP.overflowWrap(),t({lineClamp:{numLines:2,fit:!0},overrideBaseFontAdjustment:0})]]])+" story-title",children:[e,(0,n.jsx)(a(),{id:"236c50309931b6ca",dynamic:[l.ZP.overflowWrap(),t({lineClamp:{numLines:2,fit:!0},overrideBaseFontAdjustment:0})],children:`.story-title.__jsx-style-dynamic-selector{${l.ZP.overflowWrap()}
            ${t({lineClamp:{numLines:2,fit:!0},overrideBaseFontAdjustment:0})}
          }`})]})}}t.Z=(0,r.ZP)((0,c.Fv)((0,p.D)(u)))},275409:function(e,t,i){i.d(t,{Z:function(){return L}});var n=i(552322),s=i(742951),a=i.n(s),o=i(202784),r=i(412524),l=i.n(r),d=i(558001),c=i(790007),p=i(788028),m=i(578166),u=i(99231),h=i(355125),g=i(816211),x=i(293786),f=i(92340),y=i(819556),b=i(850358),j=i(980860),v=i(321221),k=i(340733),w=i(46691),C=i(400983),P=i(537333),Z=i(156305),I=i(972247),_=i(177692),N=i(537905),$=()=>{let e=(0,_.ZW)(),t=(0,c.Fj)(),i=(0,N.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:a().dynamic([["195274b1d5a5dc31",[t.theme.colors.surfaceDefaultStrong,t.theme.colors.interactiveHover,p.default.spacing.xxxs,t.theme.colors.interactiveDefault,d.ZP.typography.subtitleLarge(),d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" template-banner",children:(0,n.jsx)(u.Z,{children:(0,n.jsxs)("div",{className:a().dynamic([["195274b1d5a5dc31",[t.theme.colors.surfaceDefaultStrong,t.theme.colors.interactiveHover,p.default.spacing.xxxs,t.theme.colors.interactiveDefault,d.ZP.typography.subtitleLarge(),d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" template-banner-content",children:[(0,n.jsx)("p",{className:a().dynamic([["195274b1d5a5dc31",[t.theme.colors.surfaceDefaultStrong,t.theme.colors.interactiveHover,p.default.spacing.xxxs,t.theme.colors.interactiveDefault,d.ZP.typography.subtitleLarge(),d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxs,alignItems:"center",justifyContent:"center"})]]]),children:i("builder"===e.viewerMode?"component.templateEditor.banner":"viewer.template.banner")}),(0,n.jsx)(I.Z,{backgroundColor:t.theme.colors.outlineSubduedDefault,color:t.theme.colors.labelPrimary})]})})}),(0,n.jsx)(a(),{id:"195274b1d5a5dc31",dynamic:[t.theme.colors.surfaceDefaultStrong,t.theme.colors.interactiveHover,p.default.spacing.xxxs,t.theme.colors.interactiveDefault,d.ZP.typography.subtitleLarge(),d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxs,alignItems:"center",justifyContent:"center"})],children:`.template-banner.__jsx-style-dynamic-selector{background-color:${t.theme.colors.surfaceDefaultStrong};color:${t.theme.colors.interactiveHover};padding-block:${p.default.spacing.xxxs};-webkit-box-shadow:inset 0 0 0 1px ${t.theme.colors.interactiveDefault};-moz-box-shadow:inset 0 0 0 1px ${t.theme.colors.interactiveDefault};box-shadow:inset 0 0 0 1px ${t.theme.colors.interactiveDefault};text-align:center;${d.ZP.typography.subtitleLarge()}
        }.template-banner-content.__jsx-style-dynamic-selector{${d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxs,alignItems:"center",justifyContent:"center"})};}`})]})},S=i(727962);class T extends o.PureComponent{static #e=this.defaultProps={isAvatarHidden:!1};constructor(e){super(e),this.renderItemViewerActions=()=>(0,n.jsx)(P.Z,{title:this.props.title,storyId:this.props.storyId,publishStatus:this.props.publishStatus,sharingLevel:this.props.sharingLevel,canEdit:this.props.canEdit,isOrgItem:this.props.isOrgItem,areSocialIconsHidden:this.props.areSocialIconsHidden,isContextMenuHidden:this.props.isContextMenuHidden,storyType:this.props.storyType,itemHref:this.props.itemHref,mode:this.props.mode,canShowLikeButton:this.props.canShowLikeButton,itemOwner:this.props.itemOwner,isRenderedInFrameOrBriefing:this.props.storyType===x.o.Briefing,getActiveNodeId:this.props.getActiveNodeId}),this.renderEndContent=()=>(0,n.jsxs)("div",{className:a().dynamic([["dd8bc9656b4cd860",[d.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"})]]])+" end-content",children:[this.renderItemViewerActions(),this.props.authManager?this.renderSignedInActions():this.props.signedOutUI,(0,n.jsx)(a(),{id:"dd8bc9656b4cd860",dynamic:[d.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"})],children:`.end-content.__jsx-style-dynamic-selector{${d.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"})};}body.print .end-content.__jsx-style-dynamic-selector{display:none}`})]}),this.renderSignedInActions=()=>this.props.isViewportMaxWidth("medium")||!this.state.isMounted?null:!this.props.isAvatarHidden&&!this.state.isEmbedded&&this.props.mode&&"preview"!==this.props.mode&&"embedded-preview"!==this.props.mode&&(0,n.jsx)("div",{className:"profile-container",children:this.props.avatar}),this.state={isMounted:!1}}componentDidMount(){this.setState({isMounted:!0,isEmbedded:(0,f.xR)()})}render(){let e=this.props.borderThickness??"1px",t=this.props.isOrgItem&&!this.props.storyContext.storyLogo,{foregroundColor:i,backgroundColor:s,separatorColor:o}=(0,S.O)({themeVariables:this.props.storyDesign.themeVariables,websiteTheme:this.props.websiteDesign.theme,flavor:this.props.storyType===x.o.Briefing?this.props.storyType:void 0}),r=this.props.topOffset??0,h=this.props.storyItem.isTemplate&&(0,n.jsx)(c.tT,{defaultTheme:"light",children:(0,n.jsx)($,{})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{role:"banner",className:a().dynamic([["22b2590586252825",[r,this.props.appOffset.left,this.props.appOffset.right,i,s,e,o,d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.sm,alignItems:"center",justifyContent:"space-between"}),v.gz,e,m._F.userIsNotTabbing,p.default.print.textColor,p.default.print.backgroundColor,p.default.spacing.xxs,t?"none":"block"]]])+" "+(l()("viewer-header",this.props.className,{disabled:this.props.disabled})||""),children:[void 0===this.props.mode&&h,(0,n.jsx)(u.Z,{isFullWidth:this.props.storyType===x.o.Briefing,children:(0,n.jsxs)("div",{className:a().dynamic([["22b2590586252825",[r,this.props.appOffset.left,this.props.appOffset.right,i,s,e,o,d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.sm,alignItems:"center",justifyContent:"space-between"}),v.gz,e,m._F.userIsNotTabbing,p.default.print.textColor,p.default.print.backgroundColor,p.default.spacing.xxs,t?"none":"block"]]])+" "+(l()("content",this.props.contentClassName)||""),children:[this.props.shouldShowSkipLink&&!this.state.isEmbedded&&(0,n.jsx)(Z.Z,{shouldApplyStoryTheme:!0,href:this.props.hashForSkipLink}),this.props.children,this.state.isMounted&&this.renderEndContent()]})}),this.props.mode&&h]}),(0,n.jsx)(a(),{id:"22b2590586252825",dynamic:[r,this.props.appOffset.left,this.props.appOffset.right,i,s,e,o,d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.sm,alignItems:"center",justifyContent:"space-between"}),v.gz,e,m._F.userIsNotTabbing,p.default.print.textColor,p.default.print.backgroundColor,p.default.spacing.xxs,t?"none":"block"],children:`.viewer-header.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;top:${r};left:${this.props.appOffset.left};right:${this.props.appOffset.right};z-index:99;color:${i};background-color:${s};border-bottom:${e} solid ${o}}.viewer-header.disabled.__jsx-style-dynamic-selector{pointer-events:none}.content.__jsx-style-dynamic-selector{${d.ZP.gapped({direction:"horizontal",gap:p.default.spacing.sm,alignItems:"center",justifyContent:"space-between"})};height:-webkit-calc(${v.gz} - ${e});height:-moz-calc(${v.gz} - ${e});height:calc(${v.gz} - ${e})}${m._F.userIsNotTabbing} .viewer-header.__jsx-style-dynamic-selector *:focus{outline:none}body.print .viewer-header.__jsx-style-dynamic-selector{position:relative;color:${p.default.print.textColor};background-color:${p.default.print.backgroundColor};padding:0 ${p.default.spacing.xxs};-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body.print .viewer-header.__jsx-style-dynamic-selector{display:${t?"none":"block"}}`})]})}}var L=(0,h.d2)((0,y.oh)((0,C.w)((0,j.Fv)((0,b.Df)((0,k.Jh)((0,g.VO)((0,c.EL)((0,w.D)(T)))))))))},49969:function(e,t,i){i.d(t,{u:function(){return n}});let n=e=>{}},863292:function(e,t,i){i.d(t,{J:function(){return l}});let n={node:{"activity-map":{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(39519),i.e(51420)]).then(i.bind(i,141341))},audio:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(38956)]).then(i.bind(i,442278))},text:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(73440)]).then(i.bind(i,906528))},instruction:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(52746)]).then(i.bind(i,452746))},table:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(9850),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(301)]).then(i.bind(i,372726))},button:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(66905)]).then(i.bind(i,866905))},separator:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(6811)]).then(i.bind(i,306811))},carousel:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(85188)]).then(i.bind(i,985188))},gallery:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(39519),i.e(94168)]).then(i.bind(i,332158))},storycover:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(89154)]).then(i.bind(i,825495))},immersive:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(94654)]).then(i.bind(i,94654))},"immersive-slide":{load:()=>Promise.all([i.e(89824),i.e(56813),i.e(38602),i.e(77268),i.e(12594),i.e(72325),i.e(26355),i.e(73282),i.e(40490),i.e(59754),i.e(94013),i.e(54625),i.e(6014),i.e(43163),i.e(57584),i.e(89831)]).then(i.bind(i,202573))},"immersive-narrative-panel":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(39109)]).then(i.bind(i,39109))},tour:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(87483)]).then(i.bind(i,487483))},"tour-place":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(72205)]).then(i.bind(i,172205))},"tour-map":{load:()=>Promise.all([i.e(49774),i.e(58448),i.e(16579),i.e(11966),i.e(47503),i.e(72108),i.e(16046),i.e(97996),i.e(88187),i.e(12594),i.e(72325),i.e(80982),i.e(98666),i.e(82113),i.e(51452),i.e(29034),i.e(34083),i.e(65855),i.e(21154),i.e(29602),i.e(93050),i.e(36234),i.e(54380),i.e(46333),i.e(13681),i.e(99731),i.e(5190),i.e(77014),i.e(89143),i.e(16122),i.e(73282),i.e(65509),i.e(12073)]).then(i.bind(i,12073))},story:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(57707),i.e(6904)]).then(i.bind(i,257707))},embed:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(6014),i.e(4165),i.e(6528),i.e(96536)]).then(i.bind(i,481764))},image:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(77916)]).then(i.bind(i,777916))},video:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(6014),i.e(4165),i.e(6528),i.e(60688),i.e(59779)]).then(i.bind(i,160688))},expressmap:{load:()=>Promise.all([i.e(49774),i.e(50480),i.e(87285),i.e(16579),i.e(47503),i.e(72108),i.e(12594),i.e(72325),i.e(80982),i.e(82113),i.e(51452),i.e(19230),i.e(21154),i.e(36234),i.e(54380),i.e(3096),i.e(13681),i.e(99731),i.e(86966),i.e(24924),i.e(19555),i.e(95809),i.e(77014),i.e(94547),i.e(73282),i.e(86521),i.e(6014),i.e(4165),i.e(6528),i.e(36395),i.e(66040),i.e(65509),i.e(60688),i.e(99812)]).then(i.bind(i,541386))},webmap:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(72325),i.e(19230),i.e(21154),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(92318)]).then(i.bind(i,244625))},"thematic-map":{load:()=>Promise.all([i.e(50480),i.e(58448),i.e(16579),i.e(11966),i.e(47503),i.e(72108),i.e(16046),i.e(97996),i.e(88187),i.e(12594),i.e(72325),i.e(80982),i.e(98666),i.e(82113),i.e(51452),i.e(29034),i.e(34083),i.e(65855),i.e(19230),i.e(21154),i.e(29602),i.e(93050),i.e(36234),i.e(54380),i.e(3096),i.e(46333),i.e(13681),i.e(99731),i.e(5190),i.e(25546),i.e(73282),i.e(6528),i.e(37638)]).then(i.bind(i,132230))},credits:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(34825)]).then(i.bind(i,734825))},attribution:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(60789)]).then(i.bind(i,560789))},"action-button":{load:()=>Promise.all([i.e(12594),i.e(3096),i.e(73282),i.e(4165),i.e(73141)]).then(i.bind(i,873141))},navigation:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(67212)]).then(i.bind(i,767212))},swipe:{load:()=>Promise.all([i.e(50480),i.e(87285),i.e(16579),i.e(47503),i.e(72108),i.e(12594),i.e(72325),i.e(80982),i.e(82113),i.e(51452),i.e(19230),i.e(21154),i.e(36234),i.e(54380),i.e(3096),i.e(13681),i.e(99731),i.e(86966),i.e(24924),i.e(19555),i.e(95809),i.e(77014),i.e(93674),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(965)]).then(i.bind(i,400965))},code:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(1090)]).then(i.bind(i,551494))},timeline:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(13643)]).then(i.bind(i,308487))},"timeline-event":{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(9037)]).then(i.bind(i,462916))},"timeline-spacer":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(37803)]).then(i.bind(i,437803))},"mobile-package":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(86639)]).then(i.bind(i,286639))},chart:{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(79590)]).then(i.bind(i,288237))}},resource:{audio:{load:()=>i.e(46628).then(i.bind(i,346628))},image:{load:()=>Promise.all([i.e(49774),i.e(905)]).then(i.bind(i,200905))},video:{load:()=>i.e(62410).then(i.bind(i,162410))},expressmap:{load:()=>Promise.all([i.e(49774),i.e(47503),i.e(72325),i.e(21154),i.e(36234),i.e(54380),i.e(13681),i.e(20712),i.e(36395),i.e(65509),i.e(75265)]).then(i.bind(i,411972))},webmap:{load:()=>i.e(8214).then(i.bind(i,608214))},"story-theme":{load:()=>Promise.all([i.e(49774),i.e(51737)]).then(i.bind(i,251737))},"portal-item":{load:()=>i.e(58594).then(i.bind(i,758594))},"feature-layer":{load:()=>i.e(12674).then(i.bind(i,112674))},"thematic-map-dataset":{load:()=>i.e(48510).then(i.bind(i,948510))},"express-image-data":{load:()=>i.e(2938).then(i.bind(i,702938))},font:{load:()=>Promise.resolve().then(i.bind(i,714086))},"file-item":{load:()=>i.e(51369).then(i.bind(i,651369))},"geo-data":{load:()=>i.e(5484).then(i.bind(i,905484))},json:{load:()=>i.e(25218).then(i.bind(i,825218))}}},s={node:{collection:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(78651)]).then(i.bind(i,978651))},"collection-ui":{load:()=>Promise.all([i.e(12594),i.e(72325),i.e(21154),i.e(73282),i.e(43266),i.e(9768),i.e(41696),i.e(77311)]).then(i.bind(i,777311))},"collection-cover":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(15055)]).then(i.bind(i,633318))},"collection-nav":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(60923)]).then(i.bind(i,660923))},"collection-item":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(93104)]).then(i.bind(i,293104))},"collection-map":{load:()=>Promise.all([i.e(49774),i.e(47503),i.e(12594),i.e(72325),i.e(21154),i.e(36234),i.e(54380),i.e(13681),i.e(77022),i.e(73282),i.e(65509),i.e(82233)]).then(i.bind(i,445810))}},resource:{}},a={node:{briefing:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(4165),i.e(14693),i.e(36970)]).then(i.bind(i,736970))},"briefing-ui":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(14693)]).then(i.bind(i,414693))},"briefing-slide":{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(89154),i.e(26324)]).then(i.bind(i,426324))},"briefing-slide-content-pane":{load:()=>Promise.all([i.e(50480),i.e(12594),i.e(19230),i.e(3096),i.e(73282),i.e(86521),i.e(4165),i.e(6528),i.e(19225)]).then(i.bind(i,268794))}},resource:{}},o={node:{frame:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(65064)]).then(i.bind(i,565064))},"frame-timeline":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(11712)]).then(i.bind(i,911712))},"frame-journey":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(78018)]).then(i.bind(i,778018))},"frame-custom":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(55346)]).then(i.bind(i,255346))},"journey-place":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(63016)]).then(i.bind(i,463016))},"journey-map":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(81847)]).then(i.bind(i,481847))},"frame-slide":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(36153)]).then(i.bind(i,236153))},"frame-narrative-panel":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(71217)]).then(i.bind(i,971217))}},resource:{}},r={node:{globe:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(50341)]).then(i.bind(i,550341))},"express-mapping":{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(366)]).then(i.bind(i,900366))},template:{load:()=>Promise.all([i.e(12594),i.e(73282),i.e(28181)]).then(i.bind(i,28181))}},resource:{}},l=e=>({node:{...n.node,...s.node,...a.node,...o.node,...e.includeLabItems?r.node:{}},resource:{...n.resource,...s.resource,...a.resource,...o.resource,...e.includeLabItems?r.resource:{}}})},45324:function(e,t,i){i.d(t,{p:function(){return o}});var n=i(552322),s=i(202784),a=i(298382);let o=e=>class extends s.PureComponent{render(){return(0,n.jsx)(a.W.Consumer,{children:t=>(0,n.jsx)(e,{...this.props,collectionData:t.collectionData,collectionDisplay:t.collectionDisplay})})}}},276886:function(e,t,i){i.d(t,{F:function(){return o}});var n=i(552322),s=i(202784),a=i(969124);let o=e=>class extends s.PureComponent{render(){return(0,n.jsx)(a.B.Consumer,{children:t=>(0,n.jsx)(e,{...this.props,storyOffsetContext:t})})}}},531721:function(e,t,i){i.d(t,{n:function(){return a},s:function(){return s}});var n=i(704407);let s=e=>{(0,n.qQ)({...e,name:"onboarding"})},a=e=>(0,n.$o)({...e,name:"onboarding"})},163891:function(e,t,i){i.d(t,{ir:function(){return d}});var n=i(613546),s=i(974712),a=i(81052);let o=e=>Object.values(e?.resources??{}).find(e=>{let{type:t}=e;return"story-theme"===t})?.data.themeItemId,r=async e=>{let{themeItemId:t,storyItemData:i,authManager:n,portalHost:a,signal:r}=e,l=t??o(i);if(!l)return[];try{let e=await (0,s.L)({itemId:l,authManager:n,portalHost:a,signal:r});return e.unpublished?[void 0,l]:[e,l]}catch{return[void 0,l]}},l=async e=>{let{themeItemId:t,storyItemData:i,authManager:s,portalHost:r,signal:l}=e,d=t??o(i);if(d)try{return await (0,n.rV)(d,{authentication:s,portal:(0,a.Zl)(r,s),signal:l})}catch{return}},d=async e=>{let{themeItemId:t,storyItemData:i,authManager:n,skipDetails:s,portalHost:a,signal:o}=e,[[d,c],p]=await Promise.all([r({themeItemId:t,storyItemData:i,authManager:n,portalHost:a}),s?void 0:l({themeItemId:t,storyItemData:i,authManager:n,portalHost:a,signal:o})]);return{...c&&{id:c},...d&&{data:d},...p&&{title:p.title,owner:p.owner},...p?.isOrgItem&&{isOrgItem:p.isOrgItem}}}}}]);